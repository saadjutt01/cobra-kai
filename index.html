<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cobra Kai</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <meta
      name="description"
      content="Put your description here. about cobra kai"
    />
    <link rel="stylesheet" href="./styles/bootstrap.min.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="TemplateData/style.css" />
    <script>
      const vw = Math.max(
        document.documentElement.clientWidth || 0,
        window.innerWidth || 0
      );
      const bgs = {
        xs: "./img/bg-600.webp",
        sm: "./img/bg-800.webp",
        md: "./img/bg-1000.webp",
        lg: "./img/bg-1200.webp",
        xlg: "./img/bg-1440.webp",
        full: "./img/bg.webp",
      };
      const bg_url =
        vw <= 600
          ? bgs.xs
          : vw <= 800
          ? bgs.sm
          : vw <= 1000
          ? bgs.md
          : vw <= 1200
          ? bgs.lg
          : vw <= 1440
          ? bgs.xlg
          : bgs.full;
    </script>
  </head>
  <body>
    <script>
      document.body.style.backgroundImage = `url('${bg_url}')`;
    </script>
    <div class="menu-open" style="display: none">
      <div class="container px-4 px-sm-0">
        <div style="position: relative">
          <div id="menu-button-close" class="btn-custom menu-icon close left">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
          </div>
          <button class="btn-custom menu-icon right lang">EN</button>
          <ul class="menu-list">
            <li><a data-lang="play-game" href="#play-game">Play Game</a></li>
            <li>
              <a
                data-lang="watch-trailer"
                href="#watch-trailer"
                class="highlighted"
                >Watch Trailer</a
              >
            </li>
            <li><a data-lang="privacy" href="#footer">Privacy</a></li>
            <li><a data-lang="imprint" href="#footer">Imprint</a></li>
          </ul>
          <div class="langs">
            <a href="#" class="mx-2" onclick="loadLanguage('en')">English</a>
            <a href="#" class="mx-2" onclick="loadLanguage('de')">German</a>
          </div>
          <div class="logos">
            <a href="#" name="insta"
              ><img src="./img/logo-insta.webp" alt="insta"
            /></a>
            <a href="#" name="fb"><img src="./img/logo-fb.webp" alt="fb" /></a>
            <a href="#" name="twit"
              ><img src="./img/logo-twit.webp" alt="twit"
            /></a>
            <a href="#" name="tiktok"
              ><img src="./img/logo-tiktok.webp" alt="tiktok"
            /></a>
            <a href="#" name="netflix">
              <img src="./img/netflix_logo_n.webp" alt="netflix_logo_n" />
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="container px-4 px-sm-0">
      <div style="position: relative">
        <div id="menu-button" class="btn-custom menu-icon left">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
        <button id="menu-button-lang" class="btn-custom menu-icon right lang">
          EN
        </button>
      </div>

      <div class="moto mx-auto">
        <img src="./img/moto.webp" alt="Strike First Strike Hard No Mercy" />
      </div>

      <div class="bordered top">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="bulb left">
          <img src="./img/top-bulb.webp" alt="top-bulb-left" />
        </div>
        <img class="logo" src="./img/cobra-new.png" alt="cobra" />
        <div class="bulb right">
          <img src="./img/top-bulb.webp" alt="top-bulb-right" />
        </div>
      </div>

      <div class="bordered top-fol">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="background"></div>
      </div>

      <main id="play-game" class="bordered webgl">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div
          class="d-flex flex-row justify-content-center mx-auto logos responsive"
        >
          <div class="mx-3"><img src="./img/web-snake.webp" alt="snake" /></div>
          <div><img src="./img/web-netflix.webp" alt="netflix" /></div>
          <div class="mx-2"><img src="./img/web-tree.webp" alt="tree" /></div>
        </div>
        <div class="mt-2 mx-2 mx-sm-3 mx-md-4 mx-lg-5 mb-4">
          <img
            src="./img/webgl.jpg"
            alt="webgl component comes here"
            style="width: 100%"
          />
          <div class="webgl-content">
            <div id="unityContainer"></div>
            <!-- <div class="footer">
              <div class="webgl-logo"></div>
              <div class="fullscreen" onclick="unityInstance.SetFullscreen(1)"></div>
              <div class="title">Cobra_kai</div>
            </div> -->
          </div>
        </div>
      </main>

      <div class="bordered ctrls">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="clipped-bg"></div>
        <div class="d-flex flex-row justify-content-center logos">
          <div class="mx-sm-2 mx-md-3 mx-lg-4 mx-xl-5 my-2 my-md-3 my-xl-4">
            <img alt="att-left" id="att-left-t" src="./img/att-left.png" />
            <!-- <img
              alt="att-left"
              id="att-left-t-pressed"
              src="./img/att-left-pressed.png"
              style="display: none"
            /> -->
          </div>
          <div>
            <img
              alt="att-left"
              id="att-left-arr"
              src="./img/att-left-arr.png"
            />
            <img
              alt="att-left"
              id="att-left-arr-pressed"
              src="./img/att-left-arr-pressed.webp"
              style="display: none"
            />
          </div>
          <div class="mx-3">
            <img
              alt="att-joystick"
              id="att-joystick"
              src="./img/att-joystick.png"
              style="margin-top: -85%"
            />
          </div>
          <div>
            <img
              alt="att-right"
              id="att-right-arr"
              src="./img/att-right-arr.png"
            />
            <img
              alt="att-right"
              id="att-right-arr-pressed"
              src="./img/att-right-arr-pressed.webp"
              style="display: none"
            />
          </div>
          <div class="mx-sm-2 mx-md-3 mx-lg-4 mx-xl-5 my-2 my-md-3 my-xl-4">
            <img alt="att-right" id="att-right-t" src="./img/att-right.png" />
            <!-- <img
              alt="att-right"
              id="att-right-t-pressed"
              src="./img/att-right-pressed.png"
              style="display: none"
            /> -->
          </div>
        </div>
      </div>

      <div class="bordered ctrls-fol">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="clipped-bg"></div>
      </div>

      <div id="watch-trailer" class="bordered webgl details">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="youtube-container">
          <iframe
            width="100%"
            height="400px"
            title="Cobra Kai: Season 3 | Official Trailer | Netflix"
            src="https://www.youtube.com/embed/LcDQqGJG8pA"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        </div>
        <div class="text-center">
          <a
            type="button"
            data-lang="watch-on-netflix"
            class="btn btn-outline-light btn-netflix"
            href="https://www.netflix.com/title/81002370"
            target="_blank"
            rel="noopener"
          >
            Watch on netflix now
          </a>
        </div>
        <div class="popup-container">
          <div class="content">
            <p data-lang="popup-text">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt ut labore et dolore magna aliqua. Quis
              ipsum suspendisse ultrices gravida. Risus commodo viverra maecenas
              accumsan lacus vel facilisis. Lorem ipsum dolor sit amet,
              consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
              labore et dolore magna aliqua. Quis ipsum suspendisse ultrices
              gravida. Risus commodo viverra maecenas accumsan lacus vel
              facilisis. Lorem ipsum dolor sit amet, consectetur adipiscing
              elit, sed do eiusmod tempor incididunt ut labore et dolore magna
              aliqua. Quis ipsum suspendisse ultrices gravida. Risus commodo
              viverra maecenas accumsan lacus vel facilisis. Lorem ipsum dolor
              sit amet, consectetur adipiscing elit, sed do eiusmod tempor
              incididunt ut labore et dolore magna aliqua. Quis ipsum
              suspendisse ultrices gravida. Risus commodo viverra maecenas
              accumsan lacus vel facilisis.
            </p>
          </div>
        </div>
        <div class="cborderbutton"></div>
      </div>

      <div
        id="reflect-this"
        class="bordered webgl details"
        style="height: 150px; opacity: 0"
      >
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="cborderbutton"></div>
      </div>
      <div id="reflect-here"></div>
    </div>
    <footer>
      <div id="footer" class="container">
        <div class="d-flex flex-column">
          <div class="m-4 d-flex justify-content-center">
            <img src="./img/netflix_logo_n.webp" alt="netflix_logo_n" />
          </div>
          <div
            class="m-2 d-flex flex-row justify-content-center mx-auto logos responsive"
          >
            <a href="#" name="insta" class="m-3"
              ><img src="./img/logo-insta.webp" alt="insta"
            /></a>
            <a href="#" name="fb" class="m-3"
              ><img src="./img/logo-fb.webp" alt="fb"
            /></a>
            <a href="#" name="twit" class="m-3"
              ><img src="./img/logo-twit.webp" alt="twit"
            /></a>
            <a href="#" name="tiktok" class="m-3"
              ><img src="./img/logo-tiktok.webp" alt="tiktok"
            /></a>
          </div>
          <div class="m-2 d-flex flex-row justify-content-center">
            <a href="#" name="privacy-policy" data-lang="privacy" class="mx-5"
              >Privacy Policy</a
            >
            <a href="#" name="imprint" data-lang="imprint" class="mx-5"
              >Imprint</a
            >
          </div>
          <hr class="m-2 mx-auto" size />
          <div class="m-2 d-flex flex-row justify-content-center">
            <span class="mx-5" data-lang="concept-by"
              >Concept, development and hosting by</span
            >
          </div>
          <div class="m-2 d-flex flex-row justify-content-center logos">
            <a href="#" name="david-martin" class="m-3"
              ><img
                src="./img/logo-company-david-martin.webp"
                alt="david-martin"
            /></a>
            <a href="#" name="frag-games" class="m-3"
              ><img src="./img/logo-company-frag-games.webp" alt="frag-games"
            /></a>
            <a href="#" name="wolpertinger-games" class="m-3"
              ><img
                src="./img/logo-company-wolpertinger-games.webp"
                alt="wolpertinger-games"
            /></a>
            <a href="#" name="remote-control-productions" class="m-3"
              ><img
                src="./img/logo-company-remote-control-productions.webp"
                alt="remote-control-productions"
            /></a>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="./js/html2canvas.js"></script>
    <script src="./js/myreflect.js"></script>
    <script type="text/javascript" src="./js/l10n.min.js"></script>
    <script type="text/javascript" src="./js/localizations.js"></script>
    <script src="./TemplateData/UnityProgress.js"></script>
    <script>
      $(document).ready(function () {
        setCtrlsfolHeight();
        setYoutubeVideoHeight();
        const element = $("#reflect-this");
        html2canvas(element, {
          onrendered: function (canvas) {
            $("#reflect-here").append(canvas);
            doReflect($("#reflect-here canvas")[0], {
              height: 1 / 3,
              opacity: 0.3,
            });
            element.hide();
          },
        });
        // setupWebGL();

        startAnimation();
        setInterval(startAnimation, 1000);

        $("#menu-button, #menu-button-lang").click(function (e) {
          e.stopPropagation();
          $(".menu-open").slideDown("fast");
        });
        $("#menu-button-close").click(function () {
          $(".menu-open").slideUp("fast");
        });
        $(document).on("click", function (event) {
          if (
            !event.target.classList.contains("menu-open") &&
            $(event.target).parents(".menu-open").length == 0
          ) {
            $(".menu-open").slideUp("fast");
          }
        });
      });
      $(window).resize(function () {
        setCtrlsfolHeight();
        setYoutubeVideoHeight();
      });

      function setCtrlsfolHeight() {
        const ctrlsDivHeight = $(".ctrls").height();
        $(".ctrls-fol").height(ctrlsDivHeight);
      }
      function setYoutubeVideoHeight() {
        const width = $(".youtube-container iframe").width();
        const ratio = 16 / 9;
        const height = width / ratio;
        $(".youtube-container iframe").height(height);
      }
      function setupWebGL() {
        $.getScript("Build/UnityLoader.js", function () {
          const unityInstance = UnityLoader.instantiate(
            "unityContainer",
            "Build/C_B.json",
            { onProgress: UnityProgress }
          );
          setTimeout(function () {
            $("#unityContainer").css("background", "transparent");
          }, 3000);
        });
      }
      function loadLanguage(lang = "en") {
        String.locale = lang;
        $(".menu-icon.lang").text(lang);

        for (const translation of translations) {
          const element = $('[data-lang="' + translation + '"]');
          const translated = localize(`%${translation}`, element.text());
          element.text(translated);
        }
        document.documentElement.lang = String.locale;
      }
      function localize(string, fallback) {
        const localized = string.toLocaleString();
        if (localized !== string) {
          return localized;
        } else {
          return fallback;
        }
      }
    </script>
  </body>
</html>
