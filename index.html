<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cobra Kai</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />

    <meta
      name="description"
      content="Put your description here. about cobra kai"
    />
    <link rel="stylesheet" href="./styles/bootstrap.min.css" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="TemplateData/style.css" />
    <script>
      const vw = Math.max(
        document.documentElement.clientWidth || 0,
        window.innerWidth || 0
      );
      const bgs = {
        xs: "./img/bg-600.jpg",
        sm: "./img/bg-800.jpg",
        md: "./img/bg-1000.jpg",
        lg: "./img/bg-1200.jpg",
        xlg: "./img/bg-1440.jpg",
        full: "./img/bg.jpg",
      };
      const bg_url =
        vw <= 600
          ? bgs.xs
          : vw <= 800
          ? bgs.sm
          : vw <= 1000
          ? bgs.md
          : vw <= 1200
          ? bgs.lg
          : vw <= 1440
          ? bgs.xlg
          : bgs.full;
      const noMercy = {
        md: "./img/moto-450.png",
        full: "./img/moto.png",
      };
      const moto_url = vw <= 991 ? noMercy.md : noMercy.full;
    </script>
  </head>
  <body>
    <script>
      document.body.style.backgroundImage = `url('${bg_url}')`;
    </script>
    <div class="menu-open" style="display: none">
      <div class="container px-4 px-sm-0">
        <div style="position: relative">
          <div id="menu-button-close" class="btn-custom menu-icon close left">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
          </div>
          <button
            onclick="loadLanguage(true)"
            disabled
            class="btn-custom menu-icon right lang"
          >
            EN
          </button>
          <ul class="menu-list">
            <li><a data-lang="play-game" href="#play-game">Play Game</a></li>
            <li>
              <a
                data-lang="watch-trailer"
                href="#watch-trailer"
                class="highlighted"
                >Watch Trailer</a
              >
            </li>
            <li>
              <a data-lang="privacy" onclick="overlay('privacy')">Privacy</a>
            </li>
            <li>
              <a data-lang="imprint" onclick="overlay('imprint')">Imprint</a>
            </li>
          </ul>
          <!-- <div class="langs">
            <a class="mx-2" onclick="loadLanguage('en')">English</a>
            <a class="mx-2" onclick="loadLanguage('de')">Deutsch</a>
          </div> -->
          <div class="logos">
            <a href="https://www.instagram.com/netflix" name="insta"
              ><img src="./img/logo-insta.png" alt="insta"
            /></a>
            <a href="https://www.facebook.com/Netflix" name="fb"
              ><img src="./img/logo-fb.png" alt="fb"
            /></a>
            <a href="https://twitter.com/Netflix" name="twit"
              ><img src="./img/logo-twit.png" alt="twit"
            /></a>
            <a href="https://www.netflix.com" name="netflix">
              <img src="./img/netflix_logo_n.png" alt="netflix_logo_n" />
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="container px-4 px-sm-0">
      <div style="position: relative">
        <div id="menu-button" class="btn-custom menu-icon left">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
        <button
          onclick="loadLanguage(true)"
          disabled
          class="btn-custom menu-icon right lang"
        >
          EN
        </button>
      </div>

      <div class="moto mx-auto">
        <img id="moto" alt="Strike First Strike Hard No Mercy" />
        <script>
          document.getElementById("moto").src = moto_url;
        </script>
      </div>

      <div class="bordered top">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="bulb left">
          <img src="./img/top-bulb.png" alt="top-bulb-left" />
        </div>
        <img class="logo" src="./img/cobra-new-2.png" alt="cobra" />
        <div class="bulb right">
          <img src="./img/top-bulb.png" alt="top-bulb-right" />
        </div>
      </div>

      <div class="bordered top-fol">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="background"></div>
      </div>

      <main id="play-game" class="bordered webgl">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div
          class="d-flex flex-row justify-content-center mx-auto logos responsive"
        >
          <!-- <div class="mx-3"><img src="./img/web-snake.png" alt="snake" /></div> -->
          <div class="mx-auto w-50">
            <img src="./img/web-netflix.png" alt="netflix" />
          </div>
          <!-- <div class="mx-2"><img src="./img/web-tree.png" alt="tree" /></div> -->
        </div>
        <div class="mt-2 mx-2 mx-sm-3 mx-md-4 mx-lg-5 mb-4">
          <img
            id="webgl-alt-img"
            src="./img/webgl.jpg"
            alt="webgl component comes here"
            style="width: 100%"
          />
          <div class="webgl-content">
            <div id="unityContainer"></div>
            <!-- <div class="footer">
              <div class="webgl-logo"></div>
              <div class="fullscreen" onclick="unityInstance.SetFullscreen(1)"></div>
              <div class="title">Cobra_kai</div>
            </div> -->
          </div>
        </div>
      </main>

      <div class="bordered ctrls">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="clipped-bg"></div>
        <div class="d-flex flex-row justify-content-center logos">
          <div class="mx-sm-2 mx-md-3 mx-lg-4 mx-xl-5 my-2 my-md-3 my-xl-4">
            <img alt="att-left" id="att-left-t" src="./img/att-left.png" />
            <!-- <img
              alt="att-left"
              id="att-left-t-pressed"
              src="./img/att-left-pressed.png"
              style="display: none"
            /> -->
          </div>
          <div>
            <img
              alt="att-left"
              id="att-left-arr"
              src="./img/att-left-arr.png"
            />
            <img
              alt="att-left"
              id="att-left-arr-pressed"
              src="./img/att-left-arr-pressed.png"
              style="display: none"
            />
          </div>
          <div class="mx-3" style="position: relative">
            <img
              alt="att-joystick-left"
              id="att-joystick-left"
              src="./img/att-joystick-left.png"
              style="margin-top: -40%; display: none"
            />
            <img
              alt="att-joystick-center"
              id="att-joystick-center"
              src="./img/att-joystick-center.png"
              style="margin-top: -40%"
            />
            <img
              alt="att-joystick-right"
              id="att-joystick-right"
              src="./img/att-joystick-right.png"
              style="margin-top: -40%; display: none"
            />
            <img id="att-joystick-base" src="./img/att-joystick-base.png" />
          </div>
          <div>
            <img
              alt="att-right"
              id="att-right-arr"
              src="./img/att-right-arr.png"
            />
            <img
              alt="att-right"
              id="att-right-arr-pressed"
              src="./img/att-right-arr-pressed.png"
              style="display: none"
            />
          </div>
          <div class="mx-sm-2 mx-md-3 mx-lg-4 mx-xl-5 my-2 my-md-3 my-xl-4">
            <img alt="att-right" id="att-right-t" src="./img/att-right.png" />
            <!-- <img
              alt="att-right"
              id="att-right-t-pressed"
              src="./img/att-right-pressed.png"
              style="display: none"
            /> -->
          </div>
        </div>
      </div>

      <div class="bordered ctrls-fol">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="clipped-bg"></div>
      </div>

      <div id="watch-trailer" class="bordered webgl details">
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="youtube-container">
          <iframe
            width="100%"
            height="400px"
            title="Cobra Kai: Season 3 | Official Trailer | Netflix"
            src="https://www.youtube.com/embed/LcDQqGJG8pA"
            frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen
          ></iframe>
        </div>
        <div class="text-center">
          <a
            type="button"
            data-lang="watch-now"
            class="btn btn-outline-light btn-netflix"
            href="https://www.netflix.com/CobraKai"
            target="_blank"
            rel="noopener"
          >
            Watch now
          </a>
        </div>
        <div class="popup-container">
          <div class="content">
            <p data-lang="following-trailer-1">
              New year. New season. Still badass. Season 3 of Cobra Kai
              premieres this January only on Netflix. And remember, Cobra Kai
              Never Dies.
            </p>
            <p data-lang="following-trailer-2">
              About Netflix: Netflix is the world's leading streaming
              entertainment service with over 195 million paid memberships in
              over 190 countries enjoying TV series, documentaries and feature
              films across a wide variety of genres and languages. Members can
              watch as much as they want, anytime, anywhere, on any
              internet-connected screen. Members can play, pause and resume
              watching, all without commercials or commitments.
            </p>

            <p data-lang="following-trailer-3">
              With a new sensei at the helm of the Cobra Kai dojo, a three-way
              feud takes center stage. Old grudges — like Cobra Kai — never die.
            </p>
          </div>
        </div>
        <div class="cborderbutton"></div>
      </div>

      <div
        id="reflect-this"
        class="bordered webgl details"
        style="height: 150px; opacity: 0"
      >
        <div class="cborder left"></div>
        <div class="cborder right"></div>
        <div class="cborderbutton"></div>
      </div>
      <div id="reflect-here"></div>
    </div>
    <footer>
      <div id="footer" class="container">
        <div class="d-flex flex-column">
          <div class="m-4 d-flex justify-content-center">
            <a href="https://www.netflix.com" name="netflix">
              <img src="./img/netflix_logo_n.png" alt="netflix_logo_n" />
            </a>
          </div>
          <div
            class="m-2 d-flex flex-row justify-content-center mx-auto logos responsive"
          >
            <a href="https://www.instagram.com/netflix" name="insta" class="m-3"
              ><img src="./img/logo-insta.png" alt="insta"
            /></a>
            <a href="https://www.facebook.com/Netflix" name="fb" class="m-3"
              ><img src="./img/logo-fb.png" alt="fb"
            /></a>
            <a href="https://twitter.com/Netflix" name="twit" class="m-3"
              ><img src="./img/logo-twit.png" alt="twit"
            /></a>
          </div>
          <div class="m-2 d-flex flex-row justify-content-center">
            <a
              name="privacy-policy"
              data-lang="privacy"
              onclick="overlay('privacy')"
              class="mx-5"
              >Privacy Policy</a
            >
            <a
              name="imprint"
              data-lang="imprint"
              onclick="overlay('imprint')"
              class="mx-5"
              >Imprint</a
            >
          </div>
          <hr class="m-2 mx-auto" size />
          <div class="m-2 d-flex flex-row justify-content-center">
            <span class="mx-5" data-lang="concept-by"
              >Concept, development and hosting by</span
            >
          </div>
          <div class="m-2 d-flex flex-row justify-content-center logos mx-auto">
            <a
              href="https://www.davidundmartin.com/"
              name="david-martin"
              class="m-3"
              ><img
                src="./img/logo-company-david-martin.png"
                alt="david-martin"
            /></a>
            <a href="https://frag-games.com/" name="frag-games" class="m-3"
              ><img src="./img/logo-company-frag-games.png" alt="frag-games"
            /></a>
            <a
              href="https://www.wolpertingergames.com/"
              name="wolpertinger-games"
              class="m-3"
              ><img
                src="./img/logo-company-wolpertinger-games.png"
                alt="wolpertinger-games"
            /></a>
            <a
              href="http://www.r-control.de/"
              name="remote-control-productions"
              class="m-3"
              ><img
                src="./img/logo-company-remote-control-productions.png"
                alt="remote-control-productions"
            /></a>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="./js/html2canvas.js"></script>
    <script src="./js/myreflect.js"></script>
    <script type="text/javascript" src="./js/l10n.min.js"></script>
    <script type="text/javascript" src="./js/localizations.js"></script>
    <script src="./TemplateData/UnityProgress.js"></script>
    <script>
      $(document).ready(function () {
        $(".menu-icon.lang").prop("disabled", false);
        loadLanguage();
        setCtrlsfolHeight();
        setYoutubeVideoHeight();
        const element = $("#reflect-this");
        html2canvas(element, {
          onrendered: function (canvas) {
            $("#reflect-here").append(canvas);
            doReflect($("#reflect-here canvas")[0], {
              height: 1 / 3,
              opacity: 0.3,
            });
            element.hide();
          },
        });
        setupWebGL();

        startAnimation();
        setInterval(startAnimation, 2000);

        $("#menu-button").click(function (e) {
          e.stopPropagation();
          $(".menu-open").slideDown("fast");
        });
        $("#menu-button-close").click(function () {
          $(".menu-open").slideUp("fast");
        });
        $(".overlay").click(function (e) {
          e.stopPropagation();
          $(".overlay").hide();
        });
        $(document).on("click", function (event) {
          if (
            !event.target.classList.contains("menu-open") &&
            $(event.target).parents(".menu-open").length == 0
          ) {
            $(".menu-open").slideUp("fast");
          }
        });
      });
      $(window).resize(function () {
        setCtrlsfolHeight();
        setYoutubeVideoHeight();
      });

      function setCtrlsfolHeight() {
        const ctrlsDivHeight = $(".ctrls").height();
        $(".ctrls-fol").height(ctrlsDivHeight);
      }
      function setYoutubeVideoHeight() {
        const width = $(".youtube-container iframe").width();
        const ratio = 16 / 9;
        const height = width / ratio;
        $(".youtube-container iframe").height(height);
      }
      function setupWebGL() {
        $.getScript("Build/UnityLoader.js", function () {
          $("#webgl-alt-img").hide()
          const unityInstance = UnityLoader.instantiate(
            "unityContainer",
            "Build/C_B.json",
            { onProgress: UnityProgress }
          );
          setTimeout(function () {
            $("#unityContainer").css("background", "transparent");
          }, 3000);
        });
      }

      function loadLanguage(toggle = false) {
        let lang = "";
        if (toggle) {
          lang = String.locale == "en" ? "de" : "en";
        } else {
          if (typeof Storage !== "undefined") {
            // Code for localStorage/sessionStorage.
            lang = localStorage.getItem("lang");
          } else {
            // Sorry! No Web Storage support..
          }
          if (!languages_available.includes(lang)) {
            lang = "en";
          }
        }
        String.locale = lang;

        $(".menu-icon.lang").text(lang);

        for (const translation of translations) {
          const element = $('[data-lang="' + translation + '"]');
          const translated = localize(`%${translation}`, element.text());
          element.text(translated);
        }
        document.documentElement.lang = String.locale;
        localStorage.setItem("lang", String.locale);
      }

      function localize(string, fallback) {
        const localized = string.toLocaleString();
        if (localized !== string) {
          return localized;
        } else {
          return fallback;
        }
      }
      function overlay(overlay) {
        $(`#overlay-${overlay}`).show();
      }
    </script>
    <div id="overlay-privacy" class="overlay">
      <div data-lang="overlay-privacy"></div>
    </div>
    <div id="overlay-imprint" class="overlay">
      <div data-lang="overlay-imprint"></div>
    </div>
  </body>
</html>
